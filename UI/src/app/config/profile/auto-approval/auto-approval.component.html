<p-toast [style]="{marginTop: '80px'}"></p-toast>
<div class="content">
    <form [formGroup]="autoApprovalForm">
        <div class="p-xl-12 p-mb-4">
            <span class="p-mr-5">Auto Approval</span>
            <p-inputSwitch formControlName="enableAutoApprove" (onChange)="handleChange($event)">
            </p-inputSwitch>
        </div>
        <div class="p-xl-12">
            <small class="d-block p-mb-2">Select Role</small>
            <div class="p-d-flex p-pt-2">
                <ng-container *ngFor="let role of rolesData">
                    <div *ngIf="role.roleName !== 'ROLE_SUPERADMIN'"
                        class="p-field-checkbox p-p-3 p-mr-5 border rounded">
                        <label [for]="role.roleName" class="p-mb-0 p-mr-5">{{role.displayName}}</label>
                        <p-checkbox [formControl]="autoApprovalForm.controls['roles']" value="role.roleName" [value]="role.roleName"
                            [inputId]="role.roleName" [disabled]="autoApprovalFormValue['enableAutoApprove'].value == false"></p-checkbox>
                    </div>
                </ng-container>
            </div>
        </div>
        <hr />
        <div class="p-text-center">
            <button type="button" pButton pRipple icon="pi pi-save" (click)="onSubmit()" label="Save"
                class="p-button p-button-success p-button-raised group p-mt-3"
                [disabled]="shouldBeDisabled()"></button>
        </div>
    </form>
</div>